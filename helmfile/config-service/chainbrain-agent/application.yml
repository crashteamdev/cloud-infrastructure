{{- $applicationName := .Release.Name -}}

server:
  port: {{ .Values.services.global.java.apiPort }}

grpc:
  server:
    port: 9090

logback:
  appender: JSON_K8S_CONSOLE

logging:
  level:
    dev.crashteam.cbagent: INFO
    org.jooq: WARN
    org.jooq.tools.LoggerListener: WARN
    dev.langchain4j: DEBUG
    dev.langchain4j.http: DEBUG
    dev.langchain4j.model.openai: DEBUG
    dev.langchain4j.internal: DEBUG
    org.springframework.web: WARN
    org.apache.catalina: WARN
    dev.crashteam.cbagent.service: DEBUG
    dev.crashteam.cbagent.agent: DEBUG

spring:
  application:
    name: {{ $applicationName }}

management:
  server:
    port: {{ .Values.services.global.java.managementPort }}
  metrics:
    export:
      prometheus:
        enabled: true
    tags:
      application: {{ $applicationName }}
  endpoint:
    health:
      probes:
        enabled: true
      show-details: always
    metrics:
      enabled: true
    prometheus:
      enabled: true
  endpoints:
    web:
      exposure:
        include: health,info,prometheus

model:
  scoring:
    task-type:
      code-generation:
        deepseek: 30.0
        openai: 25.0
        gemini: 22.0
        grok: 15.0
      code-explanation:
        openai: 25.0
        gemini: 22.0
        deepseek: 20.0
        grok: 15.0
      complex-reasoning:
        grok-4: 30.0
        openai-o3: 30.0
        openai-o4: 28.0
        deepseek-reasoner: 28.0
        openai: 25.0
        gemini: 22.0
        deepseek: 22.0
        grok: 20.0
      creative-writing:
        grok-4: 35.0
        grok: 25.0
        gemini: 22.0
        openai: 20.0
        deepseek: 15.0
      simple-chat:
        code-model-penalty: -30.0
        grok-low-cost: 30.0
        deepseek: 25.0
        gemini: 22.0
        grok: 20.0
        openai: 15.0
      general-conversation:
        code-model-penalty: -30.0
        grok: 25.0
        gemini: 23.0
        deepseek: 22.0
        openai: 18.0
      image-analysis:
        openai-gpt4-vision: 50.0
        openai-gpt4o: 45.0
        openai-gpt4o-mini: 40.0
        openai-gpt4: 35.0
        gemini: 25.0
        deepseek: -50.0
        grok: -30.0
      question-answering:
        code-model-penalty: -30.0
        grok: 20.0
        gemini: 22.0
        deepseek: 20.0
        openai: 16.0
